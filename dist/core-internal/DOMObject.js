// Copyright Â© 2019 Brandon Li. All rights reserved.

// Minified distribution version - sim-core 0.0.0-dev.6 - MIT.
define(require=>{"use strict";const t=require("SIM_CORE/util/assert");class e{constructor(e){t(!e||Object.getPrototypeOf(e)===Object.prototype,`Extra prototype on Options: ${e}`);const s={type:"div",namespace:null,style:{left:0,padding:0,margin:0,boxSizing:"border-box",position:"relative"},text:null,innerHTML:null,children:[],id:null,class:null,src:null,href:null,attributes:null};(e={...s,...e}).style={...s.style,...e.style},t("string"==typeof e.type,`invalid options.type: ${e.type}`),this._type=e.type,this._id=e.id,this._class=e.class,this._src=e.src,this._href=e.href,this._text=e.text,this._innerHTML=e.innerHTML,this._children=[],this._isDisposed=!1,e.namespace?(t("string"==typeof e.namespace,`invalid namespace: ${e.namespace}`),this._element=document.createElementNS(e.namespace,this._type)):this._element=document.createElement(this._type),this._textNode=document.createTextNode(this._text||""),this._element.appendChild(this._textNode),this._parent=null,e.attributes&&this.addAttributes(e.attributes),e.style&&this.addStyle(e.style),this.setID(this._id),this.setClass(this._class),this.setText(this._text),this.setSrc(this._src),this.setHref(this._href),this._innerHTML&&this.setInnerHTML(this._innerHTML),this.setChildren(e.children)}getElement(){return this._element}getType(){return this._type}getID(){return this._id}getClass(){return this._class}getText(){return this._text}getSrc(){return this._src}getHref(){return this._href}getInnerHTML(){return this._innerHTML}getChildren(){return this._children}getParent(){return this._parent}get element(){return this.getElement()}get type(){return this.getType()}get id(){return this.getID()}get class(){return this.getClass()}get text(){return this.getText()}get src(){return this.getSrc()}get href(){return this.getHref()}get innerHTML(){return this.getInnerHTML()}get children(){return this.getChildren()}get parent(){return this.getParent()}get isDisposed(){return this._isDisposed}getStyle(){return this._element.style}get style(){return this.getStyle()}getAttribute(t){const e=this._element.attributes.getNamedItem(t);return e?e.value:null}setAttribute(e,s){return t(!e||"string"==typeof e,`invalid name: ${e}`),["id","class","src","href"].includes(e)?(s&&t("src"!==e||"img"===this._type,`cannot set 'src' for type: ${this._type}`),s&&t("href"!==e||"a"===this._type,`cannot set 'href' for type: ${this._type}`),this[`_${e}`]=s,this[`_${e}`]?this._element.setAttribute(e,s):this._element.removeAttribute(e)):this._element.setAttribute(e,s),this}setID(t){return this.setAttribute("id",t)}set id(t){this.setID(t)}setClass(t){return this.setAttribute("class",t)}set class(t){this.setClass(t)}setSrc(t){return this.setAttribute("src",t)}set src(t){this.setSrc(t)}setHref(t){return this.setAttribute("href",t)}set href(t){this.setHref(t)}setText(e){return t(!e||"string"==typeof e,`invalid text: ${e}`),this._text=e,this._textNode.textContent=this._text,this}set text(t){this.setText(t)}setInnerHTML(e){return t(!e||"string"==typeof e,`invalid innerHTML: ${e}`),this._innerHTML=e,this._element.innerHTML=e,this}set innerHTML(t){this.setInnerHTML(t)}addChild(s){return t(s instanceof e,`invalid child: ${s}`),t(!this.hasChild(s),"cannot add child that is already a child."),t(s!==this,"cannot add self as a child"),t(!s._isDisposed,"Tried to add a disposed DOMObject"),this._children.push(s),s._parent=this,this._element.appendChild(s.element),this}setChildren(s){return t(Array.isArray(s)&&s.every(t=>t instanceof e),`invalid children: ${s}`),this.removeAllChildren(),this._children=s,s.forEach(t=>this.addChild(t)),this}removeChild(e){return t(this.hasChild(e),"Attempted to removeChild with a DOMObject that was not a child."),this._children.splice(this._children.indexOf(e),1),this._element.removeChild(e.element),e._parent=null,this}removeAllChildren(){return this._children.forEach(t=>this.removeChild(t)),this}hasChild(s){return t(s instanceof e,`invalid potentialChild: ${s}`),this._children.includes(s)&&s.parent===this}addStyle(e){return t(!e||Object.getPrototypeOf(e)===Object.prototype,`invalid style object: ${e}`),Object.keys(e).forEach(s=>{t(Object.prototype.hasOwnProperty.call(this._element.style,s),`invalid style: ${s}`),this._element.style[s]=e[s]}),this}addAttributes(e){return t(!e||Object.getPrototypeOf(e)===Object.prototype,`invalid attributes object: ${e}`),Object.keys(e).forEach(t=>{this.setAttribute(t,e[t])}),this}dispose(){return this._isDisposed=!0,this.removeAllChildren(),this._parent&&this._parent.removeChild(this),this}}return e});